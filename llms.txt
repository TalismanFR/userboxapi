usersbox API ‚Äî LLM context (RU/EN)
Source: https://teletype.in/@usersbox/I5Lr8veHxrq
Exported at: 2025-10-27T14:41:57+03:00

========================
RU ‚Äî –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
========================

–ö—Ä–∞—Ç–∫–æ
- usersbox API –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –±–æ–ª—å—à–∏–º –¥–∞–Ω–Ω—ã–º (~20+ –º–ª—Ä–¥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤).
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã: –º–µ—Ç–æ–¥ GET.
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization (—Ç–æ–∫–µ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).
- –ë–∞–∑–æ–≤—ã–π URL: https://api.usersbox.ru/v1/{method_name}

–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- usersbox API 1.1 (22 –º–∞—Ä—Ç–∞ 2025)
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä count –∫ –º–µ—Ç–æ–¥—É /search.
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ /database/{collection}/schema.
- usersbox API 1.2 (26 –º–∞—è 2025)
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ª–∏–º–∏—Ç—ã –¥–ª—è /explain.

–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞ (–∫–æ–º–∞–Ω–¥–∞ /api ‚Üí —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ): http://link.usersbox.ru
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –º–µ—Ç–æ–¥–æ–º GET.
- –¢–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization.
- –ë–∞–∑–æ–≤—ã–π –¥–æ–º–µ–Ω: api.usersbox.ru/v1/{method_name}
–ü—Ä–∏–º–µ—Ä:
GET /v1/getMe HTTP/1.1
Host: api.usersbox.ru
Authorization: <YOUR_TOKEN>

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞
- status: "success" | "error"
- data: –æ–±—ä–µ–∫—Ç/–º–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ success)
- error: { code, message } (–µ—Å–ª–∏ error)

–ú–µ—Ç–æ–¥—ã
1) /getMe ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{
  "status": "success",
  "data": {
    "_id": "...",
    "title": "Morales Publisher",
    "token": "...",
    "created_at": "Jan 10, 2024, 12:05:00 PM",
    "is_active": true,
    "balance": 150.5,
    "owner": { "user_id": "...", "bot_id": "..." }
  }
}

2) /sources ‚Äî —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–µ—á–µ–Ω—å –¥–æ—Å—Ç—É–ø–Ω—ã—Ö {database, collection}.
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{
  "status": "success",
  "data": {
    "count": 981,
    "items": [
      {
        "database": "cdek",
        "collection": "full",
        "size": 31919315138,
        "count": 205663278,
        "title": "üöö CDEK [2022]"
      },
      {
        "database": "100realt",
        "collection": "parsing_2021",
        "size": 5394439345,
        "count": 4916799,
        "title": "üè†  –ü–∞—Ä—Å–∏–Ω–≥ ¬´100realt.ru¬ª [2021]"
      }
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
    ]
  }
}

3) /{database}/{collection}/search ‚Äî –ø–æ–∏—Å–∫ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - q (string) ‚Äî –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (—Ç–µ–ª–µ—Ñ–æ–Ω, email, username, IP –∏ —Ç.–¥.).
  - count (int) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (25..500).
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–µ—Ä–≤—ã–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (–Ω–∞–π–¥–µ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç—ã):
{
  "status": "success",
  "data": {
    "count": 4,
    "items": [
      {
        "_id": 3212868,
        "full_name": "–í–∞—Å–∏–ª–∏–π –ò–≤–∞–Ω–æ–≤ –ú–∞–∫—Å–∏–º–æ–≤–∏—á",
        "birth_date": "30.08.1945",
        "phone": "+79177840591",
        "_score": 7.08725643157959
      },
      {
        "_id": 4349339,
        "full_name": "–í–∞—Å–∏–ª–∏–π –ò–≤–∞–Ω–æ–≤ –ú–∞–∫—Å–∏–º–æ–≤–∏—á",
        "birth_date": "20.05.1968",
        "phone": "+79065499712",
        "_score": 7.08725643157959
      }
      // ...
    ]
  }
}
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (–±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤):
{
  "status": "success",
  "data": { "count": 0, "items": [] }
}

4) /search ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - q (string) ‚Äî –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ –∫–∞–∂–¥–æ–π –±–∞–∑–µ –¥–æ 25 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ª–∏–º–∏—Ç –Ω–∞ –±–∞–∑—É).
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—Å–æ–∫—Ä–∞—â—ë–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞):
{
  "status": "success",
  "items": [
    {
      "source": { "database": "2berega_ru", "collection": "clients" },
      "hits": { "hitsCount": 1, "count": 1, "items": [ /* ... */ ] }
    },
    {
      "source": { "database": "yandex", "collection": "eda" },
      "hits": { "hitsCount": 1, "count": 1, "items": [ /* ... */ ] }
    }
    // ...
  ]
}

5) /{database}/{collection}/explain ‚Äî –æ—Ü–µ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - q (string) ‚Äî –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å.
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{
  "status": "success",
  "data": { "count": 11458 }
}

6) /explain ‚Äî –æ—Ü–µ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –ø–æ –≤—Å–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - q (string) ‚Äî –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å.
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{
  "status": "success",
  "data": {
    "count": 15,
    "items": [
      {
        "source": { "database": "500px_com", "collection": "users" },
        "hits": { "count": 1 }
      },
      {
        "source": { "database": "appen_com", "collection": "users" },
        "hits": { "count": 1 }
      }
      // ...
    ]
  }
}
–û—Ç–≤–µ—Ç –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
{
  "status": "success",
  "data": { "count": 0, "items": [] }
}

7) /{database}/{collection}/nearbySearch ‚Äî –ø–æ–∏—Å–∫ –ø–æ –≥–µ–æ—Ä–∞–¥–∏—É—Å—É
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (–ø—Ä–∏–º–µ—Ä):
  delivery_club/part1, delivery_club/part2, yandex/eda, avito/ads, auchan/users_2023
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - lat (double) ‚Äî —à–∏—Ä–æ—Ç–∞
  - lon (double) ‚Äî –¥–æ–ª–≥–æ—Ç–∞
  - radius (int) ‚Äî —Ä–∞–¥–∏—É—Å –ø–æ–∏—Å–∫–∞ (–º–µ—Ç—Ä—ã)
  - count (int) ‚Äî 25..500
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
{
  "status": "success",
  "data": {
    "hitsCount": 1000,
    "tooManyDocs": true,
    "count": 25,
    "items": [
      {
        "user_id": 6538242,
        "first_name": "–°—Ç–∞–Ω–∏—Å–ª–∞–≤",
        "phone": "+79112778424",
        "address": {
          "city": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
          "street": "–ì–æ—Ä–æ—Ö–æ–≤–∞—è —É–ª–∏—Ü–∞",
          "house": "4",
          "floor": "4",
          "office": "28",
          "doorcode": "3460#",
          "comment": "–∞—Ä–∫–∞ 0625#",
          "latitude": "59.936322",
          "longitude": "30.311550"
        },
        "_score": 1.0
      }
      // ...
    ]
  }
}

8) /{database}/{collection}/sample ‚Äî –ø–µ—Ä–≤—ã–µ 15 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –î–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–ª–µ–π.
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—Ñ—Ä–∞–≥–º–µ–Ω—Ç):
{
  "status": "success",
  "data": {
    "count": 15,
    "items": [
      {
        "_id": 492033988,
        "user_id": 225889705,
        "yandex_uid": "1219928845",
        "first_name": "mrozovmail.ru",
        "phone": "+79088468484",
        "amount": 427,
        "currency": "RUB",
        "app": "eda_iphone",
        "user_agent": "ios(5.5.0)",
        "payment": { "service": "Apple Pay Yandex Eda" },
        "address": {
          "city": "–ú–æ—Å–∫–≤–∞, –ø–æ—Å–µ–ª–µ–Ω–∏–µ –©–∞–ø–æ–≤—Å–∫–æ–µ",
          "street": "–∫–æ—Ç—Ç–µ–¥–∂–Ω—ã–π –ø–æ—Å—ë–ª–æ–∫ –ï–≤—Ä–æ–ø–µ–π—Å–∫–∞—è –î–æ–ª–∏–Ω–∞",
          "house": "1",
          "office": "148",
          "reliable": 1,
          "latitude": "55.430539",
          "longitude": "37.389167"
        }
      }
      // ...
    ]
  }
}

9) /database/{collection}/schema ‚Äî JSON Schema –∫–æ–ª–ª–µ–∫—Ü–∏–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON Schema (draft-07) –ø–æ –ø–µ—Ä–≤—ã–º ~5000 –∑–∞–ø–∏—Å—è–º.
–§—Ä–∞–≥–º–µ–Ω—Ç:
{
  "status": "success",
  "data": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
      "_id": { "type": "integer" },
      "first_name": { "type": "string" },
      "last_name": { "type": "string" },
      "sex": { "type": "integer" }
      // ...
    }
  }
}

10) /lang/ru ‚Äî —Ä—É—Å—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π
–ü—Ä–∏–º–µ—Ä:
{
  "status": "success",
  "data": {
    "id": "ID",
    "uid": "User ID",
    "first_name": "–ò–º—è",
    "last_name": "–§–∞–º–∏–ª–∏—è",
    "sex": "–ü–æ–ª",
    "age": "–í–æ–∑—Ä–∞—Å—Ç"
    // ...
  }
}

–¢–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ª–∏–º–∏—Ç—ã
- {database}/{collection}/search: 0.005 ‚ÇΩ –∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç.
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç–∞: 25 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (0.125 ‚ÇΩ) –¥–∞–∂–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
  - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç–∞ –ø—Ä–∏ count=500: 2.5 ‚ÇΩ (–ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤).
- /search: 2.5 ‚ÇΩ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ.
- {database}/{collection}/nearbySearch: –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ {database}/{collection}/search.
- {database}/{collection}/explain: –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ª–∏–º–∏—Ç 300 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω.
- /explain: –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –ª–∏–º–∏—Ç 300 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω.
- /{database}/{collection}/sample, /getMe, /sources: –±–µ—Å–ø–ª–∞—Ç–Ω–æ.

–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- App:
  - title (string), token (string), created_at (string, –ú–°–ö), is_active (bool), balance (float)
- Source:
  - database (string), collection (string), size (int, bytes), title (string)
- Document:
  - ... (any) ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
  - _score (float) ‚Äî –æ—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- Explanation:
  - count (long) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–ö–æ–¥—ã –æ—à–∏–±–æ–∫ (–ø—Ä–∏–º–µ—Ä—ã)
- code 1: Invalid access token ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω/–ø—Ä–æ—Å—Ä–æ—á–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ Authorization)
- code 2: Missing access token ‚Äî —Ç–æ–∫–µ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω (–¥–æ–±–∞–≤—å—Ç–µ Authorization)
- code 3: Rate limit exceeded. Retry after N seconds ‚Äî –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
- code 4: Not enough requests ‚Äî –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- code 100: Missing query parameter ‚Äî –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω q –≤ GET –∑–∞–ø—Ä–æ—Å–µ
- code 101: Missing path parameter ‚Äî –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç {database} –∏–ª–∏ {collection}
- code 102: Source not found ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ /sources)
- code 1000: Unknown Error ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:
{
  "status": "error",
  "error": { "code": 1, "message": "Invalid access token" }
}

FAQ
- –ö–∞–∫ –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?
  - –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ /me, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–≤–µ–¥–∏—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ /api –≤ Telegram-–±–æ—Ç–µ.
- –ü–æ—á–µ–º—É —É –∫–∞–∂–¥–æ–π –±–∞–∑—ã —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—è?
  - –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞; –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —Å—Ç–∞—Ä–∞—é—Ç—Å—è —Å–æ–±–ª—é–¥–∞—Ç—å, –Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã –æ—Ç–ª–∏—á–∏—è.
- –ö–∞–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã?
  - –¢–µ–ª–µ—Ñ–æ–Ω—ã ‚Äî —Ñ–æ—Ä–º–∞—Ç E.164; –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è ‚Äî –î–î.–ú–ú.–ì–ì–ì–ì.
- –ë—É–¥–µ—Ç –ª–∏ regex?
  - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ–∑–∂–µ.
- –ü–æ—á–µ–º—É –≤ –æ—Ç–≤–µ—Ç–µ –¥–≤–∞ –ø–æ–ª—è count –∏ hitsCount?
  - count ‚Äî —Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–µ—Ä–Ω—É–ª–æ—Å—å –≤ –æ—Ç–≤–µ—Ç–µ (items.size);
  - hitsCount ‚Äî –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—â–µ–µ —á–∏—Å–ª–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
- –ö–∞–∫–æ–π –ª–∏–º–∏—Ç –Ω–∞ count?
  - 25..500; –∑–Ω–∞—á–µ–Ω–∏—è –≤–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ –±–ª–∏–∂–∞–π—à–µ–º—É –¥–æ–ø—É—Å—Ç–∏–º–æ–º—É.
- –ú–æ–∂–Ω–æ –ª–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å POST-–∑–∞–ø—Ä–æ—Å—ã?
  - –ù–µ—Ç, —Ç–æ–ª—å–∫–æ GET.
- –ï—Å—Ç—å –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤?
  - –î–ª—è /explain –∏ /{database}/{collection}/explain ‚Äî 300 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω. –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏: "Rate limit exceeded. Retry after N seconds".

–°—Å—ã–ª–∫–∏
- –ë–æ—Ç –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: http://link.usersbox.ru
- –¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç (–ø–æ–∫—É–ø–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤): https://usersbox.link/
- –Ø–∑—ã–∫–æ–≤–æ–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤: E.164 ‚Äî https://ru.wikipedia.org/wiki/E.164


========================
EN ‚Äî Full description
========================

Summary
- usersbox API enables search across large-scale datasets (~20B+ documents).
- All requests are GET.
- Auth via Authorization header (app token).
- Base URL: https://api.usersbox.ru/v1/{method_name}

Latest updates
- usersbox API 1.1 (Mar 22, 2025)
  - Added count parameter to /search.
  - Added /database/{collection}/schema endpoint.
- usersbox API 1.2 (May 26, 2025)
  - Updated limits for /explain.

App setup and authorization
- Obtain a token via Telegram bot (/api ‚Üí create app): http://link.usersbox.ru
- All endpoints use GET.
- Provide the token in the Authorization header.
- Base domain: api.usersbox.ru/v1/{method_name}
Example:
GET /v1/getMe HTTP/1.1
Host: api.usersbox.ru
Authorization: <YOUR_TOKEN>

Response shape
- status: "success" | "error"
- data: payload (on success)
- error: { code, message } (on error)

Endpoints
1) /getMe ‚Äî current app info
Use to validate token and inspect app details.
Example:
{
  "status": "success",
  "data": {
    "_id": "...",
    "title": "Morales Publisher",
    "token": "...",
    "created_at": "Jan 10, 2024, 12:05:00 PM",
    "is_active": true,
    "balance": 150.5,
    "owner": { "user_id": "...", "bot_id": "..." }
  }
}

2) /sources ‚Äî available sources
Returns available {database, collection} pairs.
Example:
{
  "status": "success",
  "data": {
    "count": 981,
    "items": [
      {
        "database": "cdek",
        "collection": "full",
        "size": 31919315138,
        "count": 205663278,
        "title": "üöö CDEK [2022]"
      }
      // ...
    ]
  }
}

3) /{database}/{collection}/search ‚Äî search within a single collection
Params:
- q (string) ‚Äî phone, email, username, IP, etc.
- count (int) ‚Äî 25..500.
Examples:
- With hits:
{
  "status": "success",
  "data": {
    "count": 4,
    "items": [ { "_id": 3212868, "_score": 7.08, /* ... */ } ]
  }
}
- No hits:
{
  "status": "success",
  "data": { "count": 0, "items": [] }
}

4) /search ‚Äî global search across all sources
Params: q (string)
Returns up to 25 docs per source.
Example (abridged):
{
  "status": "success",
  "items": [
    {
      "source": { "database": "2berega_ru", "collection": "clients" },
      "hits": { "hitsCount": 1, "count": 1, "items": [ /* ... */ ] }
    }
    // ...
  ]
}

5) /{database}/{collection}/explain ‚Äî count estimate for a specific collection
Params: q (string)
Example:
{ "status": "success", "data": { "count": 11458 } }

6) /explain ‚Äî count estimate across all sources
Params: q (string)
Example:
{
  "status": "success",
  "data": {
    "count": 15,
    "items": [ { "source": { "database": "500px_com", "collection": "users" }, "hits": { "count": 1 } } ]
  }
}

7) /{database}/{collection}/nearbySearch ‚Äî geo-radius search
Supported collections (example): delivery_club/part1, delivery_club/part2, yandex/eda, avito/ads, auchan/users_2023
Params: lat (double), lon (double), radius (int, meters), count (int, 25..500)
Example (abridged):
{
  "status": "success",
  "data": {
    "hitsCount": 1000,
    "tooManyDocs": true,
    "count": 25,
    "items": [ { "user_id": 6538242, "_score": 1.0, /* address ... */ } ]
  }
}

8) /{database}/{collection}/sample ‚Äî first 15 documents
Use to review field structure.

9) /database/{collection}/schema ‚Äî JSON Schema (draft-07)
Returns inferred schema from ~5000 first records.

10) /lang/ru ‚Äî Russian field localization
Returns a map of technical field names to human-readable Russian labels.

Pricing and limits
- {database}/{collection}/search: 0.005 RUB per document
  - Minimum charge: 25 docs (0.125 RUB) even if no hits
  - Max at count=500: 2.5 RUB (if enough results)
- /search: 2.5 RUB flat
- {database}/{collection}/nearbySearch: same as collection search
- {database}/{collection}/explain: free, 300 RPM limit
- /explain: free, 300 RPM limit
- /{database}/{collection}/sample, /getMe, /sources: free

Data types
- App: title, token, created_at (MSK), is_active, balance
- Source: database, collection, size (bytes), title
- Document: arbitrary fields; _score relevance
- Explanation: count (long)

Errors (examples)
- 1 Invalid access token ‚Äî check Authorization
- 2 Missing access token ‚Äî add Authorization
- 3 Rate limit exceeded. Retry after N seconds
- 4 Not enough requests ‚Äî insufficient app balance
- 100 Missing query parameter ‚Äî missing q
- 101 Missing path parameter ‚Äî missing {database} or {collection}
- 102 Source not found ‚Äî verify via /sources
- 1000 Unknown Error ‚Äî server-side error
Example:
{ "status": "error", "error": { "code": 1, "message": "Invalid access token" } }

FAQ
- How to top up the app balance?
  - Top up via /me, then transfer to the app via /api in the Telegram bot.
- Why do sources have different fields?
  - Origin-dependent; unified naming where possible.
- How to format queries?
  - Phones: E.164; birth dates: DD.MM.YYYY.
- Regex support?
  - Planned.
- Why both count and hitsCount?
  - count = items returned; hitsCount = approximate total matches in collection.
- count limit?
  - 25..500; out-of-range values are clamped.
- POST allowed?
  - No, GET only.
- Request limits?
  - /explain and /{database}/{collection}/explain: 300 RPM; exceeding yields "Rate limit exceeded. Retry after N seconds".
